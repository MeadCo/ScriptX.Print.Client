/*!
 * MeadCo ScriptX 'window.secmgr' shim (support for modern browsers and IE 11) JS client library
 * Copyright 2017 Mead & Company. All rights reserved.
 * https://github.com/MeadCo/ScriptX.Print.Client
 *
 * Released under the MIT license
 */
(function(n,t,i){if(this[n]!=i||document.getElementById(n)!=null){if(console.log("MeadCo security manager anti-polyfill believes it may not be requred."),this[n]!=i&&console.log("this["+n+"] is defined"),document.getElementById(n)!=null&&console.log("document.getElementById("+n+") is defined"),this[n].object!=i){console.log("this["+n+"].object is defined -- not required!!!");return}console.log("this["+n+"].object is *not* defined")}var r=t();this[n]=r})("secmgr",function(){function t(n){console.log("secmgr anti-polyfill :: "+n)}var r="1.4.9.0",u=this,i=MeadCo.ScriptX.Print,n=MeadCo.ScriptX.Print.Licensing;return u.extendSecMgrNamespace=function(n,i){var o=i(),e,u,f,r;for(t("MeadCo security manager extending namespace2: "+n),e=n.split("."),u=this,f=0;f<e.length;f++)r=e[f],f===e.length-1?typeof u[r]=="undefined"?(t("installing implementation at: "+r),u[r]=o):t("Warning - not overwriting package: "+r):typeof u[r]=="undefined"?(t("initialising new: "+r),u[r]={}):t("using existing package: "+r),u=u[r]},t("'secmgr' loaded."),(typeof n=="undefined"||n===null)&&console.error("MeadCo.ScriptX.Print.Licensing not available"),typeof i=="undefined"||i===null?console.error("MeadCo.ScriptX.Print not available"):i.useAttributes(),{log:t,get version(){return r},get result(){return n.result},get validLicense(){return n.validLicense},get License(){return n.License},GetLicenseAsync:function(t,i){n.GetLicenseAsync(t,i)},PolyfillInit:function(){return n.PolyfillInit()},PolyfillInitAsync:function(t,i){n.PolyfillInitAsync(t,i)}}}),function(n,t){typeof extendSecMgrNamespace=="function"&&extendSecMgrNamespace(n,t)}("secmgr.object",function(){var n=this;return n.secmgr.log("secmgr.object loaded."),this.secmgr});
/*! 
 * MeadCo.ScriptX.Print.Licensing (support for modern browsers and IE 11) JS client library
 * Copyright 2017-2018 Mead & Company. All rights reserved.
 * https://github.com/MeadCo/ScriptX.Print.Client
 *
 * This module is only required when working with ScriptX Services for Windows PC.
 * 
 * Released under the MIT license
 */
(function(n,t){extendMeadCoNamespace(n,t)})("MeadCo.ScriptX.Print.Licensing",function(){function a(n){MeadCo.log("License server requested: "+MeadCo.makeApiEndPoint(n,h));t=MeadCo.makeApiEndPoint(n,h)}function c(n,t){a(n);i=t}function l(r,e){if(t.length<=0)throw new Error("MeadCo.ScriptX.Licensing : License server API URL is not set or is invalid");return n.length>0?(typeof r=="function"&&r(n),n):f.jQuery?(MeadCo.log(".ajax() get: "+t),f.jQuery.ajax(t,{method:"GET",dataType:"json",jsonp:!1,cache:!1,async:typeof r=="function",headers:{Authorization:"Basic "+btoa(i+":")}}).done(function(t){if(u="",$.extend(n,t),typeof r=="function"){r(n);return}}).fail(function(n,t,i){if(MeadCo.log("**warning: failure in MeadCo.ScriptX.Licensing.getSubscriptionFromServer: "+i),u=i,typeof e=="function"){e(i);return}}),n):void 0}function e(r,e,o,s,h){if(MeadCo.log("Apply license: "+r+",revision: "+e+", path: "+o),t.length<=0)throw new Error("MeadCo.ScriptX.Licensing : License server API URL is not set or is invalid");i=r;var c={Guid:r,Url:o,Revision:e};return(f.jQuery&&(MeadCo.log(".ajax() post: "+t),f.jQuery.ajax(t,{method:"POST",data:JSON.stringify(c),dataType:"json",contentType:"application/json",jsonp:!1,cache:!1,async:typeof s=="function"}).done(function(t){if(u="",$.extend(n,t),typeof s=="function"){s(n);return}}).fail(function(n,t,i){if(MeadCo.log("**warning: failure in MeadCo.ScriptX.Print.Licensing.applyLicense: "+i),u=i,typeof h=="function"){h(i);return}})),typeof s!="function")?(MeadCo.log("returning applied (sync) license: "+n.company),n):0}var s="1.4.9.0",h="v1/licensing",t="",i="",o=0,r="",u="",f=this,n={};return f.jQuery||MeadCo.log("**** warning :: no jQuery"),MeadCo.log("MeadCo.ScriptX.Print.Licensing "+s+" loaded."),{get version(){return s},connect:function(n,t){c(n,t)},connectLite:function(n,t,i,u){c(n,t);o=i;r=u},apply:function(n,t,i){return e(n,t,i)},applyAsync:function(n,t,i,r,u){e(n,t,i,r,u)},get result(){return u===""?0:5},get validLicense(){return typeof n.guid!="undefined"},get License(){return typeof n.guid!="undefined"?n:l()},GetLicenseAsync:function(n,t){l(n,t)},PolyfillInit:function(){return typeof n.guid!="undefined"?!0:i===""?!1:r===""?!0:(e(i,o,r),typeof n.guid!="undefined")},PolyfillInitAsync:function(t,u){typeof n.guid!="undefined"||r===""?t(n):e(i,o,r,t,u)}}});