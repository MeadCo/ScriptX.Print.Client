@model ScriptX.Print.Client.Models.Sample

@{
    ViewBag.Title = Model.Title;
}

<h2>@ViewBag.Title</h2>

<div id="logPane"></div>

@section scripts
{
    <script type="text/javascript">
        function pageLogger(txt) {
            $("#logPane").append(txt + "<br/>");
        }
    </script>

    <script src="@Url.Action("script","Home",new { filename= "meadco-core.js" })"></script>
    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxprint.js" })"></script>
    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxprinthtml.js" })"></script>
    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxfactory.js" })"></script>
    <script src="~/Scripts/meadco-scriptx.js"></script>

    <script type="text/javascript">
        $(window).on("load", function () {
            pageLogger("Shim factory test starting");

            try {
                if (MeadCo.ScriptX.Init()) {
                    pageLogger("Installed version of ScriptX is: " + MeadCo.ScriptX.Version());
                    MeadCo.ScriptX.Printing.header = "This is a MeadCoJSShim Header";
                    pageLogger("Header was set to: " + MeadCo.ScriptX.Printing.header);
                } else {
                    pageLogger("Failed to init");
                }
            } catch (e) {
                pageLogger("Error: " + e.message);
            }
        });
    </script>
}
