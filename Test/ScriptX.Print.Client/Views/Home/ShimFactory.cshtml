@model ScriptX.Print.Client.Models.Sample

@{
    ViewBag.Title = Model.Title;
}

<h2>@ViewBag.Title</h2>

<div id="logPane"></div>

@section scripts
{
    <script type="text/javascript">
        function pageLogger(txt) {
            $("#logPane").append(txt + "<br/>");
        }
    </script>
    
    <script src="@Url.Action("script","Home",new { filename= "meadco-core.js" })"></script>
    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxprint.js" })"></script>
    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxprinthtml.js" })"></script>

    <script src="@Url.Action("script","Home",new { filename= "meadco-scriptxfactory.js" })"></script>

    <script type="text/javascript">

        $(function() {
            var a = new Object();
            var b = new Object();
            var c = new Object();
            var d = new Object();

            pageLogger("Shim factory test starting");
            try {
                factory.GetComponentVersion("MeadCo.ScriptX", a, b, c, d);
                pageLogger("Version: " + a[0] + "." + b[0] + "." + c[0] + "." + d[0]);

                factory.printing.header = "This is the page header";
                pageLogger("header set to: " + factory.printing.header);

            } catch (e) {
                pageLogger("Error: " + e.message);
            }
        });
    </script>
}
